<!DOCTYPE HTML><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=unicode">
<title>史上最全的Vim命令</title>
    
<style id="wiz_custom_css">html, body {font-size: 12pt;}body {font-family: Helvetica, 'Hiragino Sans GB', '微软雅黑', 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;line-height: 1.6;margin: 0 auto;padding: 20px 16px;padding: 1.25rem 1rem;}h1, h2, h3, h4, h5, h6 {margin:20px 0 10px;margin:1.25rem 0 0.625rem;padding: 0;font-weight: bold;}h1 {font-size:20pt;font-size:1.67rem;}h2 {font-size:18pt;font-size:1.5rem;}h3 {font-size:15pt;font-size:1.25rem;}h4 {font-size:14pt;font-size:1.17rem;}h5 {font-size:12pt;font-size:1rem;}h6 {font-size:12pt;font-size:1rem;color: #777777;margin: 1rem 0;}div, p, ul, ol, dl, li {margin:0;}blockquote, table, pre, code {margin:8px 0;}ul, ol {padding-left:32px;padding-left:2rem;}ol.wiz-list-level1 > li {list-style-type:decimal;}ol.wiz-list-level2 > li {list-style-type:lower-latin;}ol.wiz-list-level3 > li {list-style-type:lower-roman;}blockquote {padding:0 12px;padding:0 0.75rem;}blockquote > :first-child {margin-top:0;}blockquote > :last-child {margin-bottom:0;}img {border:0;max-width:100%;height:auto !important;margin:2px 0;}table {border-collapse:collapse;border:1px solid #bbbbbb;}td, th {padding:4px 8px;border-collapse:collapse;border:1px solid #bbbbbb;min-height:28px;word-break:break-all;box-sizing: border-box;}.wiz-hide {display:none !important;}</style><style name="wiz_unsave_style">html, body {    font-size: 12pt;}body {    font-family: Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;    line-height: 1.6;    color: inherit;    background-color: inherit;    margin: 0 auto;    padding: 20px 16px;    padding: 1.25rem 1rem;}img{    max-width: 100%;}</style><style name="wiz_style_for_load"></style><script type="text/javascript" src="file:///C:\Tools\WizNote\WizTools\htmleditor\utils.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///C:\Tools\WizNote\WizTools\htmleditor\localize.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///C:\Tools\WizNote\WizTools\htmleditor\core\wizEditorForPc.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///C:\Tools\WizNote\WizTools\htmleditor\editorHelper.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///C:\Users\peak\Documents\My Knowledge\templates\WizTemplate.js" wiz_style="unsave" charset="utf-8"></script></head>

<body spellcheck="false" class="" ><div></div><h1 class="csdn_top" style="margin:0px;font-size:1.5rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:bold;color:rgb(44, 48, 51);padding:0px 29px;font-style:normal;text-align:start;text-indent:0px;">史上最全的Vim命令</h1><div class="article_bar clearfix" style="margin:5px 0px 0px;padding:0px 29px 8px;font-weight:normal;display:block;color:rgb(136, 136, 136);font-size:0.875rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-style:normal;text-align:start;text-indent:0px;"><div class="artical_tag" style="margin:0px;padding:0px;font-weight:normal;"><span class="original" style="margin:0px 20px 0px 0px;padding:2px 6px;font-weight:normal;font-size:0.875rem;color:rgb(120, 144, 156);">转载</span><span>&nbsp;</span><span class="time" style="margin:0px;padding:0px;font-weight:normal;display:inline-block;color:rgb(187, 187, 187);font-size:0.875rem;">2015年04月20日 17:46:09</span></div><ul class="article_tags clearfix csdn-tracking-statistics" data-mod="popu_377" style="margin:0px 0px 0px 26px;padding:0px;font-weight:normal;list-style:none;display:block;background-color:rgb(255, 255, 255);font-size:0.875rem;"><li class="tit" style="margin:0px;padding:0px;font-weight:normal;list-style:none;color:rgb(187, 187, 187);">标签：</li><li style="margin:0px;padding:0px;font-weight:normal;list-style:none;"><a href="http://so.csdn.net/so/search/s.do?q=vim%E5%91%BD%E4%BB%A4&amp;t=blog" target="_blank" style="color:rgb(64, 147, 198);text-decoration:none;margin:0px;padding:0px;font-weight:normal;display:inline-block;">vim命令</a><span>&nbsp;</span><span style="margin:0px 10px 0px 5px;padding:0px;font-weight:normal;color:rgb(229, 229, 229);display:inline-block;">/</span></li><li style="margin:0px;padding:0px;font-weight:normal;list-style:none;"><a href="http://so.csdn.net/so/search/s.do?q=%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F&amp;t=blog" target="_blank" style="color:rgb(64, 147, 198);text-decoration:none;margin:0px;padding:0px;font-weight:normal;display:inline-block;">正则表达式</a><span>&nbsp;</span><span style="margin:0px 10px 0px 5px;padding:0px;font-weight:normal;color:rgb(229, 229, 229);display:inline-block;">/</span></li><li style="margin:0px;padding:0px;font-weight:normal;list-style:none;"><a href="http://so.csdn.net/so/search/s.do?q=%E6%90%9C%E7%B4%A2&amp;t=blog" target="_blank" style="color:rgb(64, 147, 198);text-decoration:none;margin:0px;padding:0px;font-weight:normal;display:inline-block;">搜索</a><span>&nbsp;</span><span style="margin:0px 10px 0px 5px;padding:0px;font-weight:normal;color:rgb(229, 229, 229);display:inline-block;">/</span></li><li style="margin:0px;padding:0px;font-weight:normal;list-style:none;"><a href="http://so.csdn.net/so/search/s.do?q=%E5%AE%9A%E4%BD%8D&amp;t=blog" target="_blank" style="color:rgb(64, 147, 198);text-decoration:none;margin:0px;padding:0px;font-weight:normal;display:inline-block;">定位</a><span>&nbsp;</span><span style="margin:0px 10px 0px 5px;padding:0px;font-weight:normal;color:rgb(229, 229, 229);display:inline-block;">/</span></li><li style="margin:0px;padding:0px;font-weight:normal;list-style:none;"><a href="http://so.csdn.net/so/search/s.do?q=%E5%88%86%E5%B1%8F&amp;t=blog" target="_blank" style="color:rgb(64, 147, 198);text-decoration:none;margin:0px;padding:0px;font-weight:normal;display:inline-block;">分屏</a></li></ul><ul class="right_bar" style="margin:5px 0px 0px;padding:0px;font-weight:normal;list-style:none;"><li style="margin:0px 0px 0px 30px;padding:0px;font-weight:normal;list-style:none;"><button class="btn-noborder" style="margin:0px;font-size:0.875rem;padding:0px;font-weight:normal;display:inline-block;text-align:center;color:rgb(136, 136, 136);background:rgba(0, 0, 0, 0);"><i class="icon iconfont icon-read" style="font-style:normal;font-size:1rem;font-family:iconfont !important;display:inline-block;margin-right:8px;color:rgb(187, 187, 187);"></i><span class="txt" style="margin:0px;padding:0px;font-weight:normal;color:rgb(187, 187, 187);display:inline-block;">30769</span></button></li></ul></div><div id="article_content" class="article_content csdn-tracking-statistics" data-mod="popu_307" data-dsm="post" style="margin:0px 0px 50px;padding:20px 30px 0px;font-weight:normal;color:rgb(69, 69, 69);font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-size:1rem;font-style:normal;text-align:start;text-indent:0px;"><div id="id1" class="contents topic" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><p class="topic-title first" style="margin:10px auto;padding:0px;font-weight:normal;"><em style="font-style:italic;">曾经使用了两年多的Vim，手册也翻过一遍。虽然现在不怎么用vim了，曾经的笔记还是贴出来，与喜欢vim的朋友分享。</em></p></div><div id="id2" class="section" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><h1 style="margin:0px;font-size:2.6rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;padding:0px;"><a target="_blank" name="t0" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id59" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">1. 关于Vim</a></h1><p style="margin:10px auto;padding:0px;font-weight:normal;">vim是我最喜欢的编辑器，也是linux下第二强大的编辑器。 虽然emacs是公认的世界第一，我认为使用emacs并没有使用vi进行编辑来得高效。 如果是初学vi，运行一下vimtutor是个聪明的决定。 （如果你的系统环境不是中文，而你想使用中文的vimtutor，就运行vimtutor zh）</p><div id="id3" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t1" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id60" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">1.1 Vim的几种模式</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">正常模式：可以使用快捷键命令，或按:输入命令行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">插入模式：可以输入文本，在正常模式下，按i、a、o等都可以进入插入模式。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">可视模式：正常模式下按v可以进入可视模式， 在可视模式下，移动光标可以选择文本。按V进入可视行模式， 总是整行整行的选中。ctrl+v进入可视块模式。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">替换模式：正常模式下，按R进入。</li></ul></div></div><div id="id4" class="section" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><h1 style="margin:0px;font-size:2.6rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;padding:0px;"><a target="_blank" name="t2" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id61" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">2. 启动Vim</a></h1><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">vim -c cmd file: 在打开文件前，先执行指定的命令；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">vim -r file: 恢复上次异常退出的文件；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">vim -R file: 以只读的方式打开文件，但可以强制保存；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">vim -M file: 以只读的方式打开文件，不可以强制保存；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">vim -y num file: 将编辑窗口的大小设为num行；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">vim + file: 从文件的末尾开始；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">vim +num file: 从第num行开始；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">vim +/string file: 打开file，并将光标停留在第一个找到的string上。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">vim --remote file: 用已有的vim进程打开指定的文件。 如果你不想启用多个vim会话，这个很有用。但要注意， 如果你用vim，会寻找名叫VIM的服务器；如果你已经有一个gvim在运行了， 你可以用gvim --remote file在已有的gvim中打开文件。</li></ul></div><div id="id5" class="section" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><h1 style="margin:0px;font-size:2.6rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;padding:0px;"><a target="_blank" name="t3" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id62" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">3. 文档操作</a></h1><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:e file --关闭当前编辑的文件，并开启新的文件。 如果对当前文件的修改未保存，vi会警告。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:e! file --放弃对当前文件的修改，编辑新的文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:e+file -- 开始新的文件，并从文件尾开始编辑。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:e+n file -- 开始新的文件，并从第n行开始编辑。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:enew --编译一个未命名的新文档。(CTRL-W n)</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:e -- 重新加载当前文档。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:e! -- 重新加载当前文档，并丢弃已做的改动。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:e#或ctrl+^ -- 回到刚才编辑的文件，很实用。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:f或ctrl+g -- 显示文档名，是否修改，和光标位置。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:f filename -- 改变编辑的文件名，这时再保存相当于另存为。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gf -- 打开以光标所在字符串为文件名的文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:w -- 保存修改。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:n1,n2w filename -- 选择性保存从某n1行到另n2行的内容。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:wq -- 保存并退出。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ZZ -- 保存并退出。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:x -- 保存并退出。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:q[uit] ——退出当前窗口。(CTRL-W q或CTRL-W CTRL-Q)</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:saveas newfilename -- 另存为</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:browse e -- 会打开一个文件浏览器让你选择要编辑的文件。 如果是终端中，则会打开netrw的文件浏览窗口； 如果是gvim，则会打开一个图形界面的浏览窗口。 实际上:browse后可以跟任何编辑文档的命令，如sp等。 用browse打开的起始目录可以由browsedir来设置：<ul style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:set browsedir=last -- 用上次访问过的目录（默认）；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:set browsedir=buffer -- 用当前文件所在目录；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:set browsedir=current -- 用当前工作目录；</li></ul></li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:Sex -- 水平分割一个窗口，浏览文件系统；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:Vex -- 垂直分割一个窗口，浏览文件系统；</li></ul></div><div id="id6" class="section" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><h1 style="margin:0px;font-size:2.6rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;padding:0px;"><a target="_blank" name="t4" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id63" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">4. 光标的移动</a></h1><div id="id7" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t5" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id64" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">4.1 基本移动</a></h2><p style="margin:10px auto;padding:0px;font-weight:normal;">以下移动都是在normal模式下。</p><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">h或退格: 左移一个字符；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">l或空格: 右移一个字符；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">j: 下移一行；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">k: 上移一行；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gj: 移动到一段内的下一行；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gk: 移动到一段内的上一行；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">+或Enter: 把光标移至下一行第一个非空白字符。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">-: 把光标移至上一行第一个非空白字符。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">w: 前移一个单词，光标停在下一个单词开头；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">W: 移动下一个单词开头，但忽略一些标点；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">e: 前移一个单词，光标停在下一个单词末尾；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">E: 移动到下一个单词末尾，如果词尾有标点，则移动到标点；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">b: 后移一个单词，光标停在上一个单词开头；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">B: 移动到上一个单词开头，忽略一些标点；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ge: 后移一个单词，光标停在上一个单词末尾；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gE: 同&nbsp;<cite style="font-style:normal;margin:0px;padding:0px;font-weight:normal;">ge</cite>&nbsp;，不过‘单词’包含单词相邻的标点。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">(: 前移1句。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">): 后移1句。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">{: 前移1段。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">}: 后移1段。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">fc: 把光标移到同一行的下一个c字符处</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">Fc: 把光标移到同一行的上一个c字符处</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">tc: 把光标移到同一行的下一个c字符前</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">Tc: 把光标移到同一行的上一个c字符后</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">;: 配合f &amp; t使用，重复一次</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">,: 配合f &amp; t使用，反向重复一次</li></ul><p style="margin:10px auto;padding:0px;font-weight:normal;">上面的操作都可以配合n使用，比如在正常模式(下面会讲到)下输入3h， 则光标向左移动3个字符。</p><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">0: 移动到行首。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">g0: 移到光标所在屏幕行行首。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">^: 移动到本行第一个非空白字符。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">g^: 同&nbsp;<cite style="font-style:normal;margin:0px;padding:0px;font-weight:normal;">^</cite>&nbsp;，但是移动到当前屏幕行第一个非空字符处。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">$: 移动到行尾。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">g$: 移动光标所在屏幕行行尾。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">n|: 把光标移到递n列上。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">nG: 到文件第n行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:n&lt;cr&gt; 移动到第n行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:$&lt;cr&gt; 移动到最后一行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">H: 把光标移到屏幕最顶端一行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">M: 把光标移到屏幕中间一行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">L: 把光标移到屏幕最底端一行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gg: 到文件头部。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">G: 到文件尾部。</li></ul></div><div id="id8" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t6" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id65" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">4.2 翻屏</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+f: 下翻一屏。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+b: 上翻一屏。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+d: 下翻半屏。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+u: 上翻半屏。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+e: 向下滚动一行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+y: 向上滚动一行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">n%: 到文件n%的位置。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zz: 将当前行移动到屏幕中央。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zt: 将当前行移动到屏幕顶端。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zb: 将当前行移动到屏幕底端。</li></ul></div><div id="id9" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t7" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id66" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">4.3 标记</a></h2><p style="margin:10px auto;padding:0px;font-weight:normal;">使用标记可以快速移动。到达标记后，可以用Ctrl+o返回原来的位置。 Ctrl+o和Ctrl+i 很像浏览器上的&nbsp;<em style="font-style:italic;">后退</em>&nbsp;和&nbsp;<em style="font-style:italic;">前进</em>&nbsp;。</p><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">m{a-z}: 标记光标所在位置，局部标记，只用于当前文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">m{A-Z}: 标记光标所在位置，全局标记。标记之后，退出Vim， 重新启动，标记仍然有效。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">`{a-z}: 移动到标记位置。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">'{a-z}: 移动到标记行的行首。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">`{0-9}：回到上[2-10]次关闭vim时最后离开的位置。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">``: 移动到上次编辑的位置。''也可以，不过``精确到列，而''精确到行 。如果想跳转到更老的位置，可以按C-o，跳转到更新的位置用C-i。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">`": 移动到上次离开的地方。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">`.: 移动到最后改动的地方。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:marks 显示所有标记。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:delmarks a b -- 删除标记a和b。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:delmarks a-c -- 删除标记a、b和c。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:delmarks a c-f -- 删除标记a、c、d、e、f。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:delmarks! -- 删除当前缓冲区的所有标记。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:help mark-motions 查看更多关于mark的知识。</li></ul></div></div><div id="id10" class="section" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><h1 style="margin:0px;font-size:2.6rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;padding:0px;"><a target="_blank" name="t8" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id67" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">5. 插入文本</a></h1><div id="id11" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t9" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id68" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">5.1 基本插入</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">i: 在光标前插入；一个小技巧：按8，再按i，进入插入模式，输入=， 按esc进入命令模式，就会出现8个=。 这在插入分割线时非常有用，如30i+&lt;esc&gt;就插入了36个+组成的分割线。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">I: 在当前行第一个非空字符前插入；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gI: 在当前行第一列插入；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">a: 在光标后插入；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">A: 在当前行最后插入；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">o: 在下面新建一行插入；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">O: 在上面新建一行插入；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:r filename在当前位置插入另一个文件的内容。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:[n]r filename在第n行插入另一个文件的内容。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:r !date 在光标处插入当前日期与时间。同理，:r !command可以将其它shell命令的输出插入当前文档。</li></ul></div><div id="id12" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t10" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id69" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">5.2 改写插入</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">c[n]w: 改写光标后1(n)个词。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">c[n]l: 改写光标后n个字母。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">c[n]h: 改写光标前n个字母。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">[n]cc: 修改当前[n]行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">[n]s: 以输入的文本替代光标之后1(n)个字符，相当于c[n]l。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">[n]S: 删除指定数目的行，并以所输入文本代替之。</li></ul><p style="margin:10px auto;padding:0px;font-weight:normal;">注意，类似cnw,dnw,ynw的形式同样可以写为ncw,ndw,nyw。</p></div></div><div id="id13" class="section" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><h1 style="margin:0px;font-size:2.6rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;padding:0px;"><a target="_blank" name="t11" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id70" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">6. 剪切复制和寄存器</a></h1><div id="id14" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t12" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id71" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">6.1 剪切和复制、粘贴</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">[n]x: 剪切光标右边n个字符，相当于d[n]l。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">[n]X: 剪切光标左边n个字符，相当于d[n]h。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">y: 复制在可视模式下选中的文本。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">yy or Y: 复制整行文本。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">y[n]w: 复制一(n)个词。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">y[n]l: 复制光标右边1(n)个字符。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">y[n]h: 复制光标左边1(n)个字符。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">y$: 从光标当前位置复制到行尾。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">y0: 从光标当前位置复制到行首。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:m,ny&lt;cr&gt; 复制m行到n行的内容。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">y1G或ygg: 复制光标以上的所有行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">yG: 复制光标以下的所有行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">yaw和yas：复制一个词和复制一个句子，即使光标不在词首和句首也没关系。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">d: 删除（剪切）在可视模式下选中的文本。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">d$ or D: 删除（剪切）当前位置到行尾的内容。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">d[n]w: 删除（剪切）1(n)个单词</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">d[n]l: 删除（剪切）光标右边1(n)个字符。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">d[n]h: 删除（剪切）光标左边1(n)个字符。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">d0: 删除（剪切）当前位置到行首的内容</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">[n] dd: 删除（剪切）1(n)行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:m,nd&lt;cr&gt; 剪切m行到n行的内容。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">d1G或dgg: 剪切光标以上的所有行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">dG: 剪切光标以下的所有行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">daw和das：剪切一个词和剪切一个句子，即使光标不在词首和句首也没关系。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">d/f&lt;cr&gt;：这是一个比较高级的组合命令，它将删除当前位置 到下一个f之间的内容。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">p: 在光标之后粘贴。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">P: 在光标之前粘贴。</li></ul></div><div id="id15" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t13" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id72" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">6.2 文本对象</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">aw：一个词</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">as：一句。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ap：一段。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ab：一块（包含在圆括号中的）。</li></ul><p style="margin:10px auto;padding:0px;font-weight:normal;">y, d, c, v都可以跟文本对象。</p></div><div id="id16" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t14" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id73" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">6.3 寄存器</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">a-z：都可以用作寄存器名。"ayy把当前行的内容放入a寄存器。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">A-Z：用大写字母索引寄存器，可以在寄存器中追加内容。 如"Ayy把当前行的内容追加到a寄存器中。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:reg 显示所有寄存器的内容。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">""：不加寄存器索引时，默认使用的寄存器。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">"*：当前选择缓冲区，"*yy把当前行的内容放入当前选择缓冲区。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">"+：系统剪贴板。"+yy把当前行的内容放入系统剪贴板。</li></ul></div></div><div id="id17" class="section" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><h1 style="margin:0px;font-size:2.6rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;padding:0px;"><a target="_blank" name="t15" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id74" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">7. 查找与替换</a></h1><div id="id18" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t16" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id75" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">7.1 查找</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">/something: 在后面的文本中查找something。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">?something: 在前面的文本中查找something。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">/pattern/+number: 将光标停在包含pattern的行后面第number行上。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">/pattern/-number: 将光标停在包含pattern的行前面第number行上。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">n: 向后查找下一个。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">N: 向前查找下一个。</li></ul><div class="line-block" style="margin:0px;padding:0px;font-weight:normal;"><div class="line" style="margin:0px;padding:0px;font-weight:normal;">可以用grep或vimgrep查找一个模式都在哪些地方出现过，</div><div class="line" style="margin:0px;padding:0px;font-weight:normal;">其中:grep是调用外部的grep程序，而:vimgrep是vim自己的查找算法。</div><div class="line" style="margin:0px;padding:0px;font-weight:normal;">用法为： :vim[grep]/pattern/[g] [j] files</div><div class="line" style="margin:0px;padding:0px;font-weight:normal;">g的含义是如果一个模式在一行中多次出现，则这一行也在结果中多次出现。</div><div class="line" style="margin:0px;padding:0px;font-weight:normal;">j的含义是grep结束后，结果停在第j项，默认是停在第一项。</div><div class="line" style="margin:0px;padding:0px;font-weight:normal;">vimgrep前面可以加数字限定搜索结果的上限，如</div><div class="line" style="margin:0px;padding:0px;font-weight:normal;">:1vim/pattern/ % 只查找那个模式在本文件中的第一个出现。</div><div class="line" style="margin:0px;padding:0px;font-weight:normal;">&nbsp;</div><div class="line" style="margin:0px;padding:0px;font-weight:normal;">其实vimgrep在读纯文本电子书时特别有用，可以生成导航的目录。</div><div class="line" style="margin:0px;padding:0px;font-weight:normal;">比如电子书中每一节的标题形式为：n. xxxx。你就可以这样：</div><div class="line" style="margin:0px;padding:0px;font-weight:normal;">:vim/^d{1,}./ %</div><div class="line" style="margin:0px;padding:0px;font-weight:normal;">然后用:cw或:copen查看结果，可以用C-w H把quickfix窗口移到左侧，</div><div class="line" style="margin:0px;padding:0px;font-weight:normal;">就更像个目录了。</div></div></div><div id="id19" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t17" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id76" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">7.2 替换</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:s/old/new - 用new替换当前行第一个old。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:s/old/new/g - 用new替换当前行所有的old。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:n1,n2s/old/new/g - 用new替换文件n1行到n2行所有的old。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:%s/old/new/g - 用new替换文件中所有的old。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:%s/^/xxx/g - 在每一行的行首插入xxx，^表示行首。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:%s/$/xxx/g - 在每一行的行尾插入xxx，$表示行尾。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">所有替换命令末尾加上c，每个替换都将需要用户确认。 如：%s/old/new/gc，加上i则忽略大小写(ignore)。</li></ul><div class="line-block" style="margin:0px;padding:0px;font-weight:normal;"><div class="line" style="margin:0px;padding:0px;font-weight:normal;">还有一种比替换更灵活的方式，它是匹配到某个模式后执行某种命令，</div><div class="line" style="margin:0px;padding:0px;font-weight:normal;">语法为 :[range]g/pattern/command</div><div class="line" style="margin:0px;padding:0px;font-weight:normal;">例如 :%g/^ xyz/normal dd。</div><div class="line" style="margin:0px;padding:0px;font-weight:normal;">表示对于以一个空格和xyz开头的行执行normal模式下的dd命令。</div></div><p style="margin:10px auto;padding:0px;font-weight:normal;">关于range的规定为：</p><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">如果不指定range，则表示当前行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">m,n: 从m行到n行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">0: 最开始一行（可能是这样）。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">$: 最后一行</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">.: 当前行</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">%: 所有行</li></ul></div><div id="id20" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t18" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id77" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">7.3 正则表达式</a></h2><p style="margin:10px auto;padding:0px;font-weight:normal;">高级的查找替换就要用到正则表达式。</p><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">\d: 表示十进制数（我猜的）</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">\s: 表示空格</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">\S: 非空字符</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">\a: 英文字母</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">\|: 表示 或</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">\.: 表示.</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">{m,n}: 表示m到n个字符。这要和 \s与\a等连用，如 \a\{m,n} 表示m 到n个英文字母。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">{m,}: 表示m到无限多个字符。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">**: 当前目录下的所有子目录。</li></ul><p style="margin:10px auto;padding:0px;font-weight:normal;">:help pattern得到更多帮助。</p></div></div><hr class="docutils" style="margin-top:20px;margin-bottom:20px;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><div id="id21" class="section" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><h1 style="margin:0px;font-size:2.6rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;padding:0px;"><a target="_blank" name="t19" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id78" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">8. 排版</a></h1><div id="id22" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t20" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id79" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">8.1 基本排版</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">&lt;&lt; 向左缩进一个shiftwidth</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">&gt;&gt; 向右缩进一个shiftwidth</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:ce(nter) 本行文字居中</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:le(ft) 本行文字靠左</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:ri(ght) 本行文字靠右</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gq 对选中的文字重排，即对过长的文字进行断行</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gqq 重排当前行</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gqnq 重排n行</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gqap 重排当前段</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gqnap 重排n段</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gqnj 重排当前行和下面n行</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gqQ 重排当前段对文章末尾</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">J 拼接当前行和下一行</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gJ 同&nbsp;<cite style="font-style:normal;margin:0px;padding:0px;font-weight:normal;">J</cite>&nbsp;，不过合并后不留空格。</li></ul></div><div id="id23" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t21" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id80" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">8.2 拼写检查</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:set spell－开启拼写检查功能</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:set nospell－关闭拼写检查功能</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">]s－移到下一个拼写错误的单词</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">[s－作用与上一命令类似，但它是从相反方向进行搜索</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">z=－显示一个有关拼写错误单词的列表，可从中选择</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zg－告诉拼写检查器该单词是拼写正确的</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zw－与上一命令相反，告诉拼写检查器该单词是拼写错误的</li></ul></div><div id="id24" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t22" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id81" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">8.3 统计字数</a></h2><p style="margin:10px auto;padding:0px;font-weight:normal;">g ^g可以统计文档字符数，行数。 将光标放在最后一个字符上，用字符数减去行数可以粗略统计中文文档的字数。 以上对 Mac 或 Unix 的文件格式适用。 如果是 Windows 文件格式（即换行符有两个字节），字数的统计方法为： 字符数 - 行数 * 2。</p></div></div><hr class="docutils" style="margin-top:20px;margin-bottom:20px;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><div id="id25" class="section" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><h1 style="margin:0px;font-size:2.6rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;padding:0px;"><a target="_blank" name="t23" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id82" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">9. 编辑多个文件</a></h1><div id="id26" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t24" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id83" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">9.1 一次编辑多个文件</a></h2><p style="margin:10px auto;padding:0px;font-weight:normal;">我们可以一次打开多个文件，如</p><blockquote style="padding:5px 10px;margin:10px 0px 10px 25px;color:rgb(51, 51, 51);"><pre class="literal-block" name="code" style="font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:0.813rem;display:block;padding:0px;margin:0px;color:rgb(51, 51, 51);background-color:rgb(245, 245, 245);font-weight:normal;">vi a.txt b.txt c.txt
</pre></blockquote><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">使用:next(:n)编辑下一个文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:2n 编辑下2个文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">使用:previous或:N编辑上一个文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">使用:wnext，保存当前文件，并编辑下一个文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">使用:wprevious，保存当前文件，并编辑上一个文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">使用:args 显示文件列表。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:n filenames或:args filenames 指定新的文件列表。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">vi -o filenames 在水平分割的多个窗口中编辑多个文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">vi -O filenames 在垂直分割的多个窗口中编辑多个文件。</li></ul></div><div id="id27" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t25" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id84" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">9.2 多标签编辑</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">vim -p files: 打开多个文件，每个文件占用一个标签页。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:tabe, tabnew -- 如果加文件名，就在新的标签中打开这个文件， 否则打开一个空缓冲区。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">^w gf -- 在新的标签页里打开光标下路径指定的文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:tabn -- 切换到下一个标签。Control + PageDown，也可以。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:tabp -- 切换到上一个标签。Control + PageUp，也可以。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">[n] gt -- 切换到下一个标签。如果前面加了&nbsp;<cite style="font-style:normal;margin:0px;padding:0px;font-weight:normal;">n</cite>&nbsp;， 就切换到第n个标签。第一个标签的序号就是1。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:tab split -- 将当前缓冲区的内容在新页签中打开。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:tabc[lose] -- 关闭当前的标签页。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:tabo[nly] -- 关闭其它的标签页。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:tabs -- 列出所有的标签页和它们包含的窗口。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:tabm[ove] [N] -- 移动标签页，移动到第N个标签页之后。 如&nbsp;<cite style="font-style:normal;margin:0px;padding:0px;font-weight:normal;">tabm 0</cite>&nbsp;当前标签页，就会变成第一个标签页。</li></ul></div><div id="id28" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t26" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id85" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">9.3 缓冲区</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:buffers或:ls或:files 显示缓冲区列表。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+^：在最近两个缓冲区间切换。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:bn -- 下一个缓冲区。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:bp -- 上一个缓冲区。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:bl -- 最后一个缓冲区。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:b[n]或:[n]b -- 切换到第n个缓冲区。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:nbw(ipeout) -- 彻底删除第n个缓冲区。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:nbd(elete) -- 删除第n个缓冲区，并未真正删除，还在unlisted列表中。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:ba[ll] -- 把所有的缓冲区在当前页中打开，每个缓冲区占一个窗口。</li></ul></div></div><div id="id29" class="section" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><h1 style="margin:0px;font-size:2.6rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;padding:0px;"><a target="_blank" name="t27" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id86" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">10. 分屏编辑</a></h1><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">vim -o file1 file2:水平分割窗口，同时打开file1和file2</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">vim -O file1 file2:垂直分割窗口，同时打开file1和file2</li></ul><div id="id30" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t28" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id87" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">10.1 水平分割</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:split(:sp) -- 把当前窗水平分割成两个窗口。(CTRL-W s 或 CTRL-W CTRL-S) 注意如果在终端下，CTRL-S可能会冻结终端，请按CTRL-Q继续。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:split filename -- 水平分割窗口，并在新窗口中显示另一个文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:nsplit(:nsp) -- 水平分割出一个n行高的窗口。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:[N]new -- 水平分割出一个N行高的窗口，并编辑一个新文件。 (CTRL-W n或 CTRL-W CTRL-N)</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+w f --水平分割出一个窗口，并在新窗口打开名称为光标所在词的文件 。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-w C-^ -- 水平分割一个窗口，打开刚才编辑的文件。</li></ul></div><div id="id31" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t29" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id88" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">10.2 垂直分割</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:vsplit(:vsp) -- 把当前窗口分割成水平分布的两个窗口。 (CTRL-W v或CTRL CTRL-V)</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:[N]vne[w] -- 垂直分割出一个新窗口。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:vertical 水平分割的命令： 相应的垂直分割。</li></ul></div><div id="id32" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t30" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id89" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">10.3 关闭子窗口</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:qall -- 关闭所有窗口，退出vim。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:wall -- 保存所有修改过的窗口。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:only -- 只保留当前窗口，关闭其它窗口。(CTRL-W o)</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:close -- 关闭当前窗口，CTRL-W c能实现同样的功能。 (象 :q :x同样工作 )</li></ul></div><div id="id33" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t31" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id90" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">10.4 调整窗口大小</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+w + --当前窗口增高一行。也可以用n增高n行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+w - --当前窗口减小一行。也可以用n减小n行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+w _ --当前窗口扩展到尽可能的大。也可以用n设定行数。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:resize n -- 当前窗口n行高。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+w = -- 所有窗口同样高度。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">n ctrl+w _ -- 当前窗口的高度设定为n行。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+w &lt; --当前窗口减少一列。也可以用n减少n列。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+w &gt; --当前窗口增宽一列。也可以用n增宽n列。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+w | --当前窗口尽可能的宽。也可以用n设定列数。</li></ul></div><div id="id34" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t32" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id91" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">10.5 切换和移动窗口</a></h2><p style="margin:10px auto;padding:0px;font-weight:normal;">如果支持鼠标，切换和调整子窗口的大小就简单了。</p><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+w ctrl+w: 切换到下一个窗口。或者是ctrl+w w。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+w p: 切换到前一个窗口。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+w h(l,j,k):切换到左（右，下，上）的窗口。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+w t(b):切换到最上（下）面的窗口。&lt;BR&gt;</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+w H(L,K,J): 将当前窗口移动到最左（右、上、下）面。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+w r：旋转窗口的位置。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl+w T: 将当前的窗口移动到新的标签页上。</li></ul></div></div><div id="id35" class="section" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><h1 style="margin:0px;font-size:2.6rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;padding:0px;"><a target="_blank" name="t33" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id92" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">11. 快速编辑</a></h1><div id="id36" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t34" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id93" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">11.1 改变大小写</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">~: 反转光标所在字符的大小写。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">可视模式下的U或u：把选中的文本变为大写或小写。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gu(U)接范围（如$，或G），可以把从光标当前位置到指定位置之间字母全部 转换成小写或大写。如ggguG，就是把开头到最后一行之间的字母全部变为小 写。再如gu5j，把当前行和下面四行全部变成小写。</li></ul></div><div id="normal" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t35" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id94" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">11.2 替换（normal模式）</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">r: 替换光标处的字符，同样支持汉字。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">R: 进入替换模式，按esc回到正常模式。</li></ul></div><div id="id37" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t36" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id95" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">11.3 撤消与重做（normal模式）</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">[n] u: 取消一(n)个改动。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:undo 5 -- 撤销5个改变。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:undolist -- 你的撤销历史。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctrl + r: 重做最后的改动。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">U: 取消当前行中所有的改动。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:earlier 4m -- 回到4分钟前</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:later 55s -- 前进55秒</li></ul></div><div id="id38" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t37" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id96" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">11.4 宏</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">. --重复上一个编辑动作</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">qa：开始录制宏a（键盘操作记录）</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">q：停止录制</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">@a：播放宏a</li></ul></div></div><div id="id39" class="section" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><h1 style="margin:0px;font-size:2.6rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;padding:0px;"><a target="_blank" name="t38" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id97" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">12. 编辑特殊文件</a></h1><div id="id40" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t39" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id98" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">12.1 文件加解密</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">vim -x file: 开始编辑一个加密的文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:X -- 为当前文件设置密码。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:set key= -- 去除文件的密码。</li></ul><p style="margin:10px auto;padding:0px;font-weight:normal;"><a target="_blank" class="reference external" href="http://www.cnblogs.com/jiqingwu/admin/vim-quick-edit.html" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">这里是</a>&nbsp;滇狐总结的比较高级的vi技巧。</p></div><div id="id42" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t40" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id99" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">12.2 文件的编码</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:e ++enc=utf8 filename, 让vim用utf-8的编码打开这个文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:w ++enc=gbk，不管当前文件什么编码，把它转存成gbk编码。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:set fenc或:set fileencoding，查看当前文件的编码。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">在vimrc中添加set fileencoding=ucs-bom,utf-8,cp936，vim会根据要打开的文件选择合适的编码。 注意：编码之间不要留空格。 cp936对应于gbk编码。 ucs-bom对应于windows下的文件格式。</li></ul><p style="margin:10px auto;padding:0px;font-weight:normal;">让vim 正确处理文件格式和文件编码，有赖于&nbsp;<a target="_blank" class="reference external" href="http://www.cnblogs.com/jiqingwu/admin/vimrc.html" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">~/.vimrc的正确配置</a></p></div><div id="id43" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t41" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id100" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">12.3 文件格式</a></h2><p style="margin:10px auto;padding:0px;font-weight:normal;">大致有三种文件格式：unix, dos, mac. 三种格式的区别主要在于回车键的编码：dos 下是回车加换行，unix 下只有 换行符，mac 下只有回车符。</p><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:e ++ff=dos filename, 让vim用dos格式打开这个文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:w ++ff=mac filename, 以mac格式存储这个文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:set ff，显示当前文件的格式。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">在vimrc中添加set fileformats=unix,dos,mac，让vim自动识别文件格式。</li></ul></div></div><div id="id44" class="section" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><h1 style="margin:0px;font-size:2.6rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;padding:0px;"><a target="_blank" name="t42" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id101" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">13. 编程辅助</a></h1><div id="id45" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t43" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id102" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">13.1 一些按键</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gd: 跳转到局部变量的定义处；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">gD: 跳转到全局变量的定义处，从当前文件开头开始搜索；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">g;: 上一个修改过的地方；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">g,: 下一个修改过的地方；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">[[: 跳转到上一个函数块开始，需要有单独一行的{。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">]]: 跳转到下一个函数块开始，需要有单独一行的{。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">[]: 跳转到上一个函数块结束，需要有单独一行的}。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">][: 跳转到下一个函数块结束，需要有单独一行的}。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">[{: 跳转到当前块开始处；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">]}: 跳转到当前块结束处；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">[/: 跳转到当前注释块开始处；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">]/: 跳转到当前注释块结束处；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">%: 不仅能移动到匹配的(),{}或[]上，而且能在#if，#else， #endif之间跳跃。</li></ul><p style="margin:10px auto;padding:0px;font-weight:normal;">下面的括号匹配对编程很实用的。</p><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ci', di', yi'：修改、剪切或复制'之间的内容。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ca', da', ya'：修改、剪切或复制'之间的内容，包含'。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ci", di", yi"：修改、剪切或复制"之间的内容。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ca", da", ya"：修改、剪切或复制"之间的内容，包含"。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ci(, di(, yi(：修改、剪切或复制()之间的内容。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ca(, da(, ya(：修改、剪切或复制()之间的内容，包含()。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ci[, di[, yi[：修改、剪切或复制[]之间的内容。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ca[, da[, ya[：修改、剪切或复制[]之间的内容，包含[]。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ci{, di{, yi{：修改、剪切或复制{}之间的内容。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ca{, da{, ya{：修改、剪切或复制{}之间的内容，包含{}。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ci&lt;, di&lt;, yi&lt;：修改、剪切或复制&lt;&gt;之间的内容。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ca&lt;, da&lt;, ya&lt;：修改、剪切或复制&lt;&gt;之间的内容，包含&lt;&gt;。</li></ul></div><div id="ctags" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t44" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id103" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">13.2 ctags</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">ctags -R: 生成tag文件，-R表示也为子目录中的文件生成tags</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:set tags=path/tags -- 告诉ctags使用哪个tag文件</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:tag xyz -- 跳到xyz的定义处，或者将光标放在xyz上按C-]，返回用C-t</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:stag xyz -- 用分割的窗口显示xyz的定义，或者C-w ]， 如果用C-w n ]，就会打开一个n行高的窗口</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:ptag xyz -- 在预览窗口中打开xyz的定义，热键是C-w }。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:pclose -- 关闭预览窗口。热键是C-w z。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:pedit abc.h -- 在预览窗口中编辑abc.h</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:psearch abc -- 搜索当前文件和当前文件include的文件，显示包含abc的行。</li></ul><p style="margin:10px auto;padding:0px;font-weight:normal;">有时一个tag可能有多个匹配，如函数重载，一个函数名就会有多个匹配。 这种情况会先跳转到第一个匹配处。</p><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:[n]tnext -- 下一[n]个匹配。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:[n]tprev -- 上一[n]个匹配。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:tfirst -- 第一个匹配</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:tlast -- 最后一个匹配</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:tselect tagname -- 打开选择列表</li></ul><p style="margin:10px auto;padding:0px;font-weight:normal;">tab键补齐</p><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:tag xyz&lt;tab&gt; -- 补齐以xyz开头的tag名，继续按tab键，会显示其他的。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:tag /xyz&lt;tab&gt; -- 会用名字中含有xyz的tag名补全。</li></ul></div><div id="cscope" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t45" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id104" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">13.3 cscope</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">cscope -Rbq: 生成cscope.out文件</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:cs add /path/to/cscope.out /your/work/dir</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:cs find c func -- 查找func在哪些地方被调用</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:cw -- 打开quickfix窗口查看结果</li></ul></div><div id="gtags" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t46" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id105" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">13.4 gtags</a></h2><p style="margin:10px auto;padding:0px;font-weight:normal;">Gtags综合了ctags和cscope的功能。 使用Gtags之前，你需要安装GNU Gtags。 然后在工程目录运行&nbsp;<cite style="font-style:normal;margin:0px;padding:0px;font-weight:normal;">gtags</cite>&nbsp;。</p><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:Gtags funcname 定位到 funcname 的定义处。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:Gtags -r funcname 查询 funcname被引用的地方。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:Gtags -s symbol 定位 symbol 出现的地方。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:Gtags -g string Goto string 出现的地方。 :Gtags -gi string 忽略大小写。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:Gtags -f filename 显示 filename 中的函数列表。 你可以用 :Gtags -f % 显示当前文件。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:Gtags -P pattern 显示路径中包含特定模式的文件。 如 :Gtags -P .h$ 显示所有头文件， :Gtags -P /vm/ 显示vm目录下的文件。</li></ul></div><div id="id46" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t47" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id106" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">13.5 编译</a></h2><p style="margin:10px auto;padding:0px;font-weight:normal;">vim提供了:make来编译程序，默认调用的是make， 如果你当前目录下有makefile，简单地:make即可。</p><p style="margin:10px auto;padding:0px;font-weight:normal;">如果你没有make程序，你可以通过配置makeprg选项来更改make调用的程序。 如果你只有一个abc.java文件，你可以这样设置：</p><pre class="literal-block" name="code" style="font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:0.813rem;display:block;padding:0px;margin:0px;color:rgb(51, 51, 51);background-color:rgb(245, 245, 245);font-weight:normal;">set makeprg=javac\ abc.java
</pre><p style="margin:10px auto;padding:0px;font-weight:normal;">然后:make即可。如果程序有错，可以通过quickfix窗口查看错误。 不过如果要正确定位错误，需要设置好errorformat，让vim识别错误信息。 如：</p><pre class="literal-block" name="code" style="font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:0.813rem;display:block;padding:0px;margin:0px;color:rgb(51, 51, 51);background-color:rgb(245, 245, 245);font-weight:normal;">:setl efm=%A%f:%l:\ %m,%-Z%p^,%-C%.%#
</pre><p style="margin:10px auto;padding:0px;font-weight:normal;">%f表示文件名，%l表示行号， %m表示错误信息，其它的还不能理解。 请参考 :help errorformat。</p></div><div id="id47" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t48" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id107" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">13.6 快速修改窗口</a></h2><p style="margin:10px auto;padding:0px;font-weight:normal;">其实是quickfix插件提供的功能， 对编译调试程序非常有用 :)</p><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:copen -- 打开快速修改窗口。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:cclose -- 关闭快速修改窗口。</li></ul><p style="margin:10px auto;padding:0px;font-weight:normal;">快速修改窗口在make程序时非常有用，当make之后：</p><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:cl -- 在快速修改窗口中列出错误。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:cn -- 定位到下一个错误。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:cp -- 定位到上一个错误。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:cr -- 定位到第一个错误。</li></ul></div><div id="id48" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t49" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id108" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">13.7 自动补全</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-x C-s -- 拼写建议。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-x C-v -- 补全vim选项和命令。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-x C-l -- 整行补全。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-x C-f -- 自动补全文件路径。弹出菜单后，按C-f循环选择，当然也可以按 C-n和C-p。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-x C-p 和C-x C-n -- 用文档中出现过的单词补全当前的词。 直接按C-p和C-n也可以。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-x C-o -- 编程时可以补全关键字和函数名啊。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-x C-i -- 根据头文件内关键字补全。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-x C-d -- 补全宏定义。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-x C-n -- 按缓冲区中出现过的关键字补全。 直接按C-n或C-p即可。</li></ul><p style="margin:10px auto;padding:0px;font-weight:normal;">当弹出补全菜单后：</p><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-p 向前切换成员；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-n 向后切换成员；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-e 退出下拉菜单，并退回到原来录入的文字；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-y 退出下拉菜单，并接受当前选项。</li></ul></div><div id="id49" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t50" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id109" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">13.8 多行缩进缩出</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">正常模式下，按两下&gt;;光标所在行会缩进。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">如果先按了n，再按两下&gt;;，光标以下的n行会缩进。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">对应的，按两下&lt;;，光标所在行会缩出。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">如果在编辑代码文件，可以用=进行调整。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">在可视模式下，选择要调整的代码块，按=，代码会按书写规则缩排好。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">或者n =，调整n行代码的缩排。</li></ul></div><div id="id50" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t51" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id110" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">13.9 折叠</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zf -- 创建折叠的命令，可以在一个可视区域上使用该命令；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zd -- 删除当前行的折叠；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zD -- 删除当前行的折叠；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zfap -- 折叠光标所在的段；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zo -- 打开折叠的文本；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zc -- 收起折叠；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">za -- 打开/关闭当前折叠；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zr -- 打开嵌套的折行；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zm -- 收起嵌套的折行；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zR (zO) -- 打开所有折行；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zM (zC) -- 收起所有折行；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zj -- 跳到下一个折叠处；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zk -- 跳到上一个折叠处；</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">zi -- enable/disable fold;</li></ul></div></div><div id="id51" class="section" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><h1 style="margin:0px;font-size:2.6rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;padding:0px;"><a target="_blank" name="t52" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id111" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">14. 命令行</a></h1><p style="margin:10px auto;padding:0px;font-weight:normal;">normal模式下按:进入命令行模式</p><div id="id52" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t53" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id112" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">14.1 命令行模式下的快捷键：</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">上下方向键：上一条或者下一条命令。如果已经输入了部分命令，则找上一 条或者下一条匹配的命令。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">左右方向键：左/右移一个字符。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-w： 向前删除一个单词。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-h： 向前删除一个字符，等同于Backspace。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-u： 从当前位置移动到命令行开头。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-b： 移动到命令行开头。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">C-e： 移动到命令行末尾。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">Shift-Left： 左移一个单词。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">Shift-Right： 右移一个单词。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">@： 重复上一次的冒号命令。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">q： 正常模式下，q然后按':'，打开命令行历史缓冲区， 可以像编辑文件一样编辑命令。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">q/和q? 可以打开查找历史记录。</li></ul></div><div id="id53" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t54" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id113" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">14.2 执行外部命令</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:! cmd 执行外部命令。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:!! 执行上一次的外部命令。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:sh 调用shell，用exit返回vim。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:r !cmd 将命令的返回结果插入文件当前位置。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:m,nw !cmd 将文件的m行到n行之间的内容做为命令输入执行命令。</li></ul></div></div><div id="id54" class="section" style="margin:0px;padding:0px;font-weight:normal;font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;"><h1 style="margin:0px;font-size:2.6rem;font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;padding:0px;"><a target="_blank" name="t55" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id114" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">15. 其它</a></h1><div id="id55" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t56" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id115" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">15.1 工作目录</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:pwd 显示vim的工作目录。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:cd path 改变vim的工作目录。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:set autochdir 可以让vim 根据编辑的文件自动切换工作目录。</li></ul></div><div id="id56" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t57" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id116" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">15.2 一些快捷键（收集中）</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">K: 打开光标所在词的manpage。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">*: 向下搜索光标所在词。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">g*: 同上，但部分符合即可。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">#: 向上搜索光标所在词。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">g#: 同上，但部分符合即可。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">g C-g: 统计全文或统计部分的字数。</li></ul></div><div id="id57" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t58" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id117" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">15.3 在线帮助</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:h(elp)或F1 打开总的帮助。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:help user-manual 打开用户手册。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">命令帮助的格式为：第一行指明怎么使用那个命令； 然后是缩进的一段解释这个命令的作用，然后是进一步的信息。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:helptags somepath 为somepath中的文档生成索引。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:helpgrep 可以搜索整个帮助文档，匹配的列表显示在quickfix窗口中。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">Ctrl+] 跳转到tag主题，Ctrl+t 跳回。</li><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">:ver 显示版本信息。</li></ul></div><div id="id58" class="section" style="margin:0px;padding:0px;font-weight:normal;"><h2 style="font-family:&quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun;font-weight:100;margin:0px;font-size:2.15rem;padding:0px;"><a target="_blank" name="t59" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;"></a><a target="_blank" class="toc-backref" href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id118" style="color:rgb(202, 0, 0);text-decoration:none;margin:0px;padding:0px;font-weight:normal;">15.4 一些小功能</a></h2><ul class="simple" style="margin:0px 0px 0px 45px;padding:0px;font-weight:normal;list-style:disc;"><li style="margin:0px 0px 0px 40px;padding:0px;font-weight:normal;display:list-item;">简单计算器: 在插入模式下，输入C-r =，然后输入表达式，就能在 光标处得到计算结果。</li></ul></div></div></div></body></html>