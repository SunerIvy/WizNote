<!DOCTYPE HTML><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=unicode">
<title>CentOS 7.0下使用yum安装MySQL</title>
    
<style id="wiz_custom_css">html, body {font-size: 12pt;}body {font-family: Helvetica, 'Hiragino Sans GB', '微软雅黑', 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;line-height: 1.6;margin: 0 auto;padding: 20px 16px;padding: 1.25rem 1rem;}h1, h2, h3, h4, h5, h6 {margin:20px 0 10px;margin:1.25rem 0 0.625rem;padding: 0;font-weight: bold;}h1 {font-size:20pt;font-size:1.67rem;}h2 {font-size:18pt;font-size:1.5rem;}h3 {font-size:15pt;font-size:1.25rem;}h4 {font-size:14pt;font-size:1.17rem;}h5 {font-size:12pt;font-size:1rem;}h6 {font-size:12pt;font-size:1rem;color: #777777;margin: 1rem 0;}div, p, ul, ol, dl, li {margin:0;}blockquote, table, pre, code {margin:8px 0;}ul, ol {padding-left:32px;padding-left:2rem;}ol.wiz-list-level1 > li {list-style-type:decimal;}ol.wiz-list-level2 > li {list-style-type:lower-latin;}ol.wiz-list-level3 > li {list-style-type:lower-roman;}blockquote {padding:0 12px;padding:0 0.75rem;}blockquote > :first-child {margin-top:0;}blockquote > :last-child {margin-bottom:0;}img {border:0;max-width:100%;height:auto !important;margin:2px 0;}table {border-collapse:collapse;border:1px solid #bbbbbb;}td, th {padding:4px 8px;border-collapse:collapse;border:1px solid #bbbbbb;min-height:28px;word-break:break-all;box-sizing: border-box;}.wiz-hide {display:none !important;}</style><style name="wiz_unsave_style">html, body {    font-size: 12pt;}body {    font-family: Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;    line-height: 1.6;    color: inherit;    background-color: inherit;    margin: 0 auto;    padding: 20px 16px;    padding: 1.25rem 1rem;}img{    max-width: 100%;}</style><style name="wiz_style_for_load"></style><script type="text/javascript" src="file:///C:\Tools\WizNote\WizTools\htmleditor\utils.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///C:\Tools\WizNote\WizTools\htmleditor\localize.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///C:\Tools\WizNote\WizTools\htmleditor\core\wizEditorForPc.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///C:\Tools\WizNote\WizTools\htmleditor\editorHelper.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///C:\Users\peak\Documents\My Knowledge\templates\WizTemplate.js" wiz_style="unsave" charset="utf-8"></script></head>

<body spellcheck="false" class="" ><div><div style="font-size:0.75rem;color:rgb(51, 51, 51);font-family:tahoma, 宋体;font-style:normal;font-weight:normal;text-indent:0px;background-color:rgb(250, 250, 252);text-align:center;"><div class="wiz-table-container" style="position: relative; padding: 0px;"><div class="wiz-table-body"><table width="97%" align="center" style="color:rgb(51, 51, 51);font-family:tahoma, 宋体;font-size:0.75rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(250, 250, 252);"><tbody><tr><td width="140" style="font-size:0.75rem;">[日期：2016-09-06]</td><td align="center" style="font-size:0.75rem;">来源：Linux社区&nbsp; 作者：spiders</td><td width="160" align="right" style="font-size:0.75rem;">[字体：<a href="" style="color:rgb(96, 96, 96);text-decoration:none;">大</a><span>&nbsp;</span><a href="" style="color:rgb(96, 96, 96);text-decoration:none;">中</a><span>&nbsp;</span><a href="" style="color:rgb(96, 96, 96);text-decoration:none;">小</a>]</td></tr></tbody></table></div></div><div id="li_all" style="font-size:0.75rem;padding:20px;margin:0px;width:680px;color:rgb(51, 51, 51);font-family:tahoma, 宋体;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(250, 250, 252);"><div id="li_1" style="font-size:0.75rem;padding:0px;width:300px;margin:0px;text-align:left;"></div><div id="li_2" style="font-size:0.75rem;padding:0px;margin:0px;text-align:left;"></div></div><div id="content" style="font-size:0.875rem;font-family:tahoma, 宋体;margin:20px auto;width:755.516px;text-align:justify;color:rgb(51, 51, 51);font-style:normal;font-weight:normal;text-indent:0px;background-color:rgb(250, 250, 252);"><p><a href="http://www.linuxidc.com/topicnews.aspx?tid=14" target="_blank" title="CentOS" style="color:rgb(179, 43, 213);text-decoration:underline;">CentOS</a>7默认数据库是mariadb,配置等用着不习惯,因此决定改成mysql,但是CentOS7的yum源中默认好像是没有mysql的。为了解决这个问题，我们要先下载mysql的repo源。</p><p>1.下载mysql的repo源</p><p>$ wget http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm</p><p>2.安装mysql-community-release-el7-5.noarch.rpm包</p><p>$ sudo rpm -ivh mysql-community-release-el7-5.noarch.rpm</p><p>安装这个包后，会获得两个mysql的yum repo源：/etc/yum.repos.d/mysql-community.repo，/etc/yum.repos.d/mysql-community-source.repo。</p><p>3.安装mysql</p><p>$ sudo yum install mysql-server</p><p>根据提示安装就可以了,不过安装完成后没有密码,需要重置密码</p><p>4.重置mysql密码</p><p>$ mysql -u root</p><p>登录时有可能报这样的错：ERROR 2002 (HY000): Can‘t connect to local MySQL server through socket ‘/var/lib/mysql/mysql.sock‘ (2)，原因是/var/lib/mysql的访问权限问题。下面的命令把/var/lib/mysql的拥有者改为当前用户：</p><p>$ sudo chown -R root:root /var/lib/mysql</p><p>重启mysql服务</p><p>$ service mysqld restart</p><p>接下来登录重置密码：</p><p>$ mysql -u root&nbsp; //直接回车进入mysql控制台<br>mysql &gt; use mysql;<br>mysql &gt; update user set password=password('123456') where user='root';<br>mysql &gt; exit;</p></div><h1 class="aTitle" style="font-size:1rem;font-weight:bold;padding-top:10px;"><br></h1></div><br></div></body></html>