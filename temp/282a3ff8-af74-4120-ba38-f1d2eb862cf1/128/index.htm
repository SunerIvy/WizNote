<!DOCTYPE HTML><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=unicode">
<title>用JS实现避免重复加载相同js文件</title>
    
<style id="wiz_custom_css">html, body {font-size: 12pt;}body {font-family: Helvetica, 'Hiragino Sans GB', '微软雅黑', 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;line-height: 1.6;margin: 0 auto;padding: 20px 16px;padding: 1.25rem 1rem;}h1, h2, h3, h4, h5, h6 {margin:20px 0 10px;margin:1.25rem 0 0.625rem;padding: 0;font-weight: bold;}h1 {font-size:20pt;font-size:1.67rem;}h2 {font-size:18pt;font-size:1.5rem;}h3 {font-size:15pt;font-size:1.25rem;}h4 {font-size:14pt;font-size:1.17rem;}h5 {font-size:12pt;font-size:1rem;}h6 {font-size:12pt;font-size:1rem;color: #777777;margin: 1rem 0;}div, p, ul, ol, dl, li {margin:0;}blockquote, table, pre, code {margin:8px 0;}ul, ol {padding-left:32px;padding-left:2rem;}ol.wiz-list-level1 > li {list-style-type:decimal;}ol.wiz-list-level2 > li {list-style-type:lower-latin;}ol.wiz-list-level3 > li {list-style-type:lower-roman;}blockquote {padding:0 12px;padding:0 0.75rem;}blockquote > :first-child {margin-top:0;}blockquote > :last-child {margin-bottom:0;}img {border:0;max-width:100%;height:auto !important;margin:2px 0;}table {border-collapse:collapse;border:1px solid #bbbbbb;}td, th {padding:4px 8px;border-collapse:collapse;border:1px solid #bbbbbb;min-height:28px;word-break:break-all;box-sizing: border-box;}.wiz-hide {display:none !important;}</style><style name="wiz_unsave_style">html, body {    font-size: 12pt;}body {    font-family: Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;    line-height: 1.6;    color: inherit;    background-color: inherit;    margin: 0 auto;    padding: 20px 16px;    padding: 1.25rem 1rem;}img{    max-width: 100%;}</style><style name="wiz_style_for_load"></style><script type="text/javascript" src="file:///C:\Tools\WizNote\WizTools\htmleditor\utils.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///C:\Tools\WizNote\WizTools\htmleditor\localize.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///C:\Tools\WizNote\WizTools\htmleditor\core\wizEditorForPc.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///C:\Tools\WizNote\WizTools\htmleditor\editorHelper.js" wiz_style="unsave" charset="utf-8"></script><script type="text/javascript" src="file:///C:\Users\peak\Documents\My Knowledge\templates\WizTemplate.js" wiz_style="unsave" charset="utf-8"></script></head>

<body spellcheck="false" class="" ><div></div><h1 class="postTitle" style="margin:20px 0px 10px;padding:0px;font-weight:bold;color:rgb(0, 0, 0);font-size:0.875rem;font-family:Verdana, Arial, Helvetica, sans-serif;font-style:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/changfutao/p/4381106.html" style="margin:0px;padding:0px;text-decoration:none;color:rgb(0, 0, 0);">用JS实现避免重复加载相同js文件</a></h1><div class="clear" style="margin:0px;padding:0px;color:rgb(0, 0, 0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:0.813rem;font-style:normal;font-weight:400;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"></div><div class="postBody" style="margin:0px;padding:0px;color:rgb(17, 17, 17);font-size:0.813rem;font-family:Verdana, Arial, Helvetica, sans-serif;font-style:normal;font-weight:400;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><div id="cnblogs_post_body" class="blogpost-body" style="margin:0px 0px 20px;padding:0px;"><p style="margin:10px auto;padding:0px;text-indent:0px;">我们在日常开发过程中，可能有重复加载同一个资源例如:1.js,为了提高性能和用户体验这里我们用原生JS实现同一个资源只加载一次。</p><p style="margin:10px auto;padding:0px;text-indent:0px;">下面是 common.js里的JS代码</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:rgb(245, 245, 245);color:rgb(0, 0, 0);font-family:&quot;Courier New&quot; !important;font-size:0.75rem;"><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);background-color:rgb(245, 245, 245) !important;"><img src="index_files/0.20527297391839472.png" alt="复制代码" style="margin:0px;padding:0px;background-color:rgb(245, 245, 245) !important;"></a></span></div><pre style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;"><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">使用沙箱模式防止污染外面的变量</span>
; (<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">function</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> () {
    </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">让外面可以只能访问到require变量</span>
    window.require =<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> require;
    </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">定义一个加载模块的方法</span>
    <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">function</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> require(moduleName, callback) {
        </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">创建加载模块的具体实现类</span>
        <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">var</span> requireHelper = <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">new</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> RequireHelper(moduleName, callback);
        </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">调用加载模块类的load方法加载模块</span>
<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);">        requireHelper.load();
    }
    </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">存储已加载模块的信息</span>
    <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">var</span> moduleList =<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> [];

    </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">创建一个实体类,给传进来的属性赋值</span>
    <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">function</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> RequireHelper(moduleName, callback) {
        </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">this</span>.moduleName =<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> moduleName;
        </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">this</span>.callback =<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> callback;
    }

    </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">给模块加载实现类的原型添加方法</span>
    RequireHelper.prototype =<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> {
        </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">加载模块</span>
        load: <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">function</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> () {
            </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">var</span> that = <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">this</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);">;
            </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">var</span> moduleName =<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> that.moduleName;
            </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">if</span> (that.isLoad()) {<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">模块已被加载(资源优化:已经请求的模块不要再次加载)</span>
                <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">var</span> moduleInfo = that.getModuleInfo();<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">获取模块的描述信息</span>
                <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">if</span> (moduleList.isLoad) {<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">如果模块资源已加载完成</span>
                    that.callback();<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">可以放心的调用模块对应的回调函数</span>
                } <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">else</span> {<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">模块资源没加载完</span>
                    <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">var</span> oldCallback = moduleInfo.callback;<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">取出之前的回调函数</span>
                    moduleInfo.callback = <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">function</span> () {<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">追加回调函数</span>
<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);">                        oldCallback();
                        that.callback();
                    };
                }
            } </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">else</span> {<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">模块没有加载</span>
                <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">var</span> script = document.createelement("script"<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);">);
                script.src </span>=<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> that.modulename;
                document.getelementsbytagname(</span>"head")[0].appendchild(script);<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">加载模块</span>
                <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">var</span> moduleInfo =<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> {
                    moduleName: that.moduleName, isLoad: </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">false</span>, callback: <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">function</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> () {
                        that.callback();
                    }
                };</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">添加模块的描述信息</span>
                script.onload = <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">function</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> () {
                    moduleInfo.callback();</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">执行模块对应的回调函数</span>
                    moduleInfo.isLoad = <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">true</span>;<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">标识模块资源被加载完成</span>
<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);">                }
            }
        },
        </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">判断指定模块是否加载</span>
        isLoad: <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">function</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> () {
            </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">return</span> <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">this</span>.getModuleInfo() == <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">null</span> ? <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">false</span> : <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">true</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);">;            
        },
        </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">//</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 128, 0);">根据模块名称获取模块信息</span>
        getModuleInfo: <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">function</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> () {
            </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">for</span> (<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">var</span> i = 0; i &lt; moduleList.length; i++<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);">) {
                </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">if</span> (that.moduleName ==<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> moduleList[i].name) {
                    </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">return</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> moduleList;
                }
            }
            </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">return</span> <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">null</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);">;
        }
    };

})(window)</span></pre><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);background-color:rgb(245, 245, 245) !important;"><img src="index_files/0.6570981319094391.png" alt="复制代码" style="margin:0px;padding:0px;background-color:rgb(245, 245, 245) !important;"></a></span></div></div><p style="margin:10px auto;padding:0px;text-indent:0px;">下面是xd1.js</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:rgb(245, 245, 245);color:rgb(0, 0, 0);font-family:&quot;Courier New&quot; !important;font-size:0.75rem;"><pre style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;"><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">function</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);"> say() {
    alert(</span>"111111"<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);">);
}</span></pre></div><p style="margin:10px auto;padding:0px;text-indent:0px;">下面是html代码</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:rgb(245, 245, 245);color:rgb(0, 0, 0);font-family:&quot;Courier New&quot; !important;font-size:0.75rem;"><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);background-color:rgb(245, 245, 245) !important;"><img src="index_files/0.9919503582035818.png" alt="复制代码" style="margin:0px;padding:0px;background-color:rgb(245, 245, 245) !important;"></a></span></div><pre style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;"><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;!</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(255, 0, 255);">DOCTYPE html</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(128, 0, 0);">html </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(255, 0, 0);">xmlns</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">="http://www.w3.org/1999/xhtml"</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(128, 0, 0);">head</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(128, 0, 0);">meta </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(255, 0, 0);">http-equiv</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">="Content-Type"</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(255, 0, 0);"> content</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">="text/html; charset=utf-8"</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">/&gt;</span>
    <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(128, 0, 0);">title</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;&lt;/</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(128, 0, 0);">title</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(128, 0, 0);">head</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(128, 0, 0);">body</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
    <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(128, 0, 0);">script </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(255, 0, 0);">src</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">="Common.js"</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;&lt;/</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(128, 0, 0);">script</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
    <span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(128, 0, 0);">script </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(255, 0, 0);">type</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">="text/javascript"</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);">
        require(</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);">"</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);">xd1.js</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);">"</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);">, </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);background-color:rgb(245, 245, 245);">function</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);"> () {
            say();
        });
        require(</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);">"</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);">xd1.js</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);">"</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);">, </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);background-color:rgb(245, 245, 245);">function</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);"> () {
            alert(</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);">222</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 0);background-color:rgb(245, 245, 245);">);
        });
    </span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(128, 0, 0);">script</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(128, 0, 0);">body</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span>
<span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&lt;/</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(128, 0, 0);">html</span><span style="margin:0px;padding:0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;color:rgb(0, 0, 255);">&gt;</span></pre><div class="cnblogs_code_toolbar" style="margin:5px 0px 0px;padding:0px;background-color:rgb(245, 245, 245);"><span class="cnblogs_code_copy" style="margin:0px;padding:0px 5px 0px 0px;font-family:&quot;Courier New&quot; !important;font-size:0.75rem;"><a href="" title="复制代码" style="margin:0px;padding:0px;text-decoration:underline;color:rgb(0, 102, 204);background-color:rgb(245, 245, 245) !important;"><img src="index_files/0.6861038712041607.png" alt="复制代码" style="margin:0px;padding:0px;background-color:rgb(245, 245, 245) !important;"></a></span></div></div>这样的话，我们就可以避免了js资源的重复加载</div></div></body></html>